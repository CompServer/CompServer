{% extends 'skeleton.html' %}
{% load i18n %}
{% block content %}
    <header>
        <h1>Team: {{ team }}</h1>
        <!-- this adds the team name and organization name -->
        <p>Coached by {{ team.coach }}</p>
        <!-- needs to pull the coach's name and possibly link their profile -->
        <!-- <p>Team logo would go here.</p> -->
    </header>
    <div class="organization-information">
        <h3>Information About {{team.organization.name}}</h3>
        <h4>Address:<i>....</i></h4>
        <!-- There isn't a field for address for organizations yet -->
        <p>logo...</p>
    </div>
    <div class="match-schedule">
        <h3>Upcoming Match Schedule</h3>
        all incomplete matches ordered by time...
    </div> 
    <div class="competition-set">
        <h3>Competitions participated in</h3>
        <ul>
            {% for competition in team.competition_set.all %}
                <li>
                    <div class="row d-flex">
                        <div class = "col-12">
                            {% if competition.is_judgable %}
                                <p><a href="{% url 'competitions:competition' competition.id %}">{{ competition }}</a> ({% trans "OPEN" %})</p>
                            {% elif competition.is_complete %}
                                <p><a href="{% url 'competitions:competition' competition.id %}">{{ competition }}</a> ({% trans "COMPLETE" %})</p>
                            {% elif competition.is_closed %}
                                <p><a href="{% url 'competitions:competition' competition.id %}">{{ competition }}</a> ({% trans "CLOSED" %})</p>
                            {% elif competition.is_in_setup %}
                                <p>{{ competition }} ({% trans "SETUP" %})</p>
                            {% endif %}
                        </div>
                    </div>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div class="tournament-set">
        <h3>Tournaments Won</h3>
        <ul>
            {% for tournament in team.tournament_set.all %}
                <li>
                    <div class="row d-flex">
                        <div class = "col-12">
                            {% if tournament.is_judgable %} 
                                <p><a href="{% url 'competitions:tournament' tournament.id %}">{{ tournament }}</a> ({% trans "OPEN" %})</p>
                            {% elif tournament.is_complete %} 
                                <p><a href="{% url 'competitions:tournament' tournament.id %}">{{ tournament }}</a> ({% trans "COMPLETE" %})</p>
                            {% elif tournament.is_closed %} 
                                <p><a href="{% url 'competitions:tournament' tournament.id %}">{{ tournament }}</a> ({% trans "CLOSED" %})</p>
                            {% elif tournament.is_in_setup %}
                                <p>{{ tournament }} ({% trans "SETUP" %})</p>
                            {% endif %}  
                        </div>
                    </div>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div class="match-records">
        <h3>Match History</h3>
        <div class="row">
            <h4>Wins</h4>
            <ul>
                {% for match in team.won_matches.all %}  
                    <li><a href="">{{ match }}</a></li>
                {% endfor %}
            </ul>
        </div>
        <div class="row">
            <h4>Losses</h4>
            
        </div>
        <div class="row">
            <h4>Draws</h4>
        </div>
    </div>
{% endblock %}